<?xml version="1.0" encoding="utf-8"?>
<Page
    x:Class="ServerAppDesktop.Bedrock.Pages.SettingsPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:ServerAppDesktop.Bedrock.Pages"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">

    <Page.Transitions>
        <TransitionCollection>
            <EntranceThemeTransition />
        </TransitionCollection>
    </Page.Transitions>

    <ScrollViewer>
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>
            <StackPanel Orientation="Horizontal" Spacing="8" Grid.Row="0" 
                    VerticalAlignment="Top" Padding="16,12">
                <FontIcon Glyph="&#xE713;" FontWeight="SemiBold" FontSize="28"/>
                <TextBlock Text="Configuración de Server App Bedrock" TextWrapping="Wrap" Style="{ThemeResource TitleTextBlockStyle}" />
            </StackPanel>

            <StackPanel Padding="24,10" Spacing="20" Grid.Row="1">
                <Border CornerRadius="{ThemeResource ControlCornerRadius}" Background="{ThemeResource CardBackgroundFillColorDefaultBrush}" Padding="16">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>

                        <Grid Grid.Column="0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>

                            <FontIcon Grid.Column="0"
                             
                              Glyph="&#xEF1F;"
                              Margin="0,0,8,0" />

                            <StackPanel Grid.Column="1">
                                <TextBlock Text="Backdrop de la ventana"
                                   Style="{ThemeResource BodyStrongTextBlockStyle}"
                                   TextWrapping="Wrap" />
                                <TextBlock Text="Selecciónala según tus gustos y estilo"
                                   Style="{ThemeResource CaptionTextBlockStyle}"
                                   TextWrapping="Wrap" />
                            </StackPanel>
                        </Grid>

                        <ComboBox x:Name="Backdrop_Selector" Margin="0,0,5,0"
                                  Grid.Column="1" Width="200" SelectedIndex="0" VerticalAlignment="Center"
                                  SelectionChanged="SelectBackdrop">
                            <ComboBoxItem Content="Mica Alt" />
                            <ComboBoxItem Content="Mica" />
                            <ComboBoxItem Content="Desktop Acrylic" />
                        </ComboBox>
                    </Grid>
                </Border>
                <Border CornerRadius="{ThemeResource ControlCornerRadius}" Background="{ThemeResource CardBackgroundFillColorDefaultBrush}" Padding="16">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>

                        <Grid Grid.Column="0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>

                            <FontIcon Grid.Column="0"
                             
                              Glyph="&#xE790;"
                              Margin="0,0,8,0" />

                            <StackPanel Grid.Column="1">
                                <TextBlock Text="Tema de la aplicación"
                                   Style="{ThemeResource BodyStrongTextBlockStyle}"
                                   TextWrapping="Wrap" />
                                <TextBlock Text="Selecciónala según tus gustos (confio en tu criterio)"
                                   Style="{ThemeResource CaptionTextBlockStyle}"
                                   TextWrapping="Wrap" />
                            </StackPanel>
                        </Grid>

                        <ComboBox x:Name="Theme_Selector" Margin="0,0,5,0"
                                  Grid.Column="1" SelectedIndex="0" Width="200" VerticalAlignment="Center"
                                  SelectionChanged="SelectTheme">
                            <ComboBoxItem Content="Sistema" />
                            <ComboBoxItem Content="Claro" />
                            <ComboBoxItem Content="Oscuro" />
                        </ComboBox>
                    </Grid>
                </Border>
                <!-- 🎮 Tipo de servidor -->
                <Border CornerRadius="{ThemeResource ControlCornerRadius}" Background="{ThemeResource CardBackgroundFillColorDefaultBrush}" Padding="16">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>

                        <Grid Grid.Column="0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>

                            <FontIcon Grid.Column="0" Glyph="&#xE7FC;" Margin="0,0,8,0" />

                            <StackPanel Grid.Column="1">
                                <TextBlock Text="Tipo de servidor:"
                                   Style="{ThemeResource BaseTextBlockStyle}"
                                   TextWrapping="Wrap" />
                                <TextBlock Text="Selecciona si es Bedrock o Java Edition"
                                   Style="{ThemeResource CaptionTextBlockStyle}"
                                   TextWrapping="Wrap" />
                            </StackPanel>
                        </Grid>

                        <ComboBox x:Name="ServerTypeSelector" Grid.Column="1" Width="200" SelectedIndex="0" VerticalAlignment="Center">
                            <ComboBoxItem Content="Bedrock" />
                            <ComboBoxItem Content="Java" />
                        </ComboBox>
                    </Grid>
                </Border>

                <!-- 📂 Ruta al servidor -->
                <Border CornerRadius="{ThemeResource ControlCornerRadius}" Background="{ThemeResource CardBackgroundFillColorDefaultBrush}" Padding="16">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>

                        <Grid Grid.Column="0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>

                            <FontIcon Grid.Column="0"
             
              Glyph="&#xEDA2;" Margin="0,0,8,0" />

                            <StackPanel Grid.Column="1">
                                <TextBlock Text="Selecciona la ruta al servidor:"
                   Style="{ThemeResource BaseTextBlockStyle}"
                   TextWrapping="Wrap" />
                                <TextBlock Text="Es donde se encuentra la instalación del servidor"
                   Style="{ThemeResource CaptionTextBlockStyle}"
                   TextWrapping="Wrap" />
                            </StackPanel>
                        </Grid>

                        <StackPanel Grid.Column="1" Orientation="Horizontal" Spacing="8" VerticalAlignment="Center">
                            <TextBox x:Name="ServerPathText" IsReadOnly="True" PlaceholderText="La ruta será mostrada aquí" MinWidth="200" TextWrapping="Wrap" />
                            <Button x:Name="ServerFolderPicker" Style="{ThemeResource AccentButtonStyle}">
                                <StackPanel Orientation="Horizontal" Spacing="8">
                                    <FontIcon Glyph="&#xE8DA;" />
                                    <TextBlock Text="Seleccionar nuevo" />
                                </StackPanel>
                            </Button>
                        </StackPanel>
                    </Grid>
                </Border>

                <!-- ⚙️ Ejecutable del servidor -->
                <Border CornerRadius="{ThemeResource ControlCornerRadius}" Background="{ThemeResource CardBackgroundFillColorDefaultBrush}" Padding="16">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>

                        <Grid Grid.Column="0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>

                            <FontIcon Grid.Column="0"
             
              Glyph="&#xE943;" Margin="0,0,8,0" />

                            <StackPanel Grid.Column="1">
                                <TextBlock Text="Selecciona el ejecutable del servidor:"
                   Style="{ThemeResource BaseTextBlockStyle}"
                   TextWrapping="Wrap" />
                                <TextBlock Text="Debe coincidir con la versión del launcher"
                   Style="{ThemeResource CaptionTextBlockStyle}"
                   TextWrapping="Wrap" />
                            </StackPanel>
                        </Grid>

                        <StackPanel Grid.Column="1" Orientation="Horizontal" Spacing="8" VerticalAlignment="Center">
                            <TextBox x:Name="ExecutablePathText" IsReadOnly="True" PlaceholderText="El archivo será mostrado aquí" MinWidth="200" TextWrapping="Wrap" />
                            <Button x:Name="ExecutablePicker" Style="{ThemeResource AccentButtonStyle}">
                                <StackPanel Orientation="Horizontal" Spacing="8">
                                    <FontIcon Glyph="&#xE8DA;" />
                                    <TextBlock Text="Seleccionar nuevo" />
                                </StackPanel>
                            </Button>
                        </StackPanel>
                    </Grid>
                </Border>

                <!-- 🌐 IP del servidor -->
                <Border CornerRadius="{ThemeResource ControlCornerRadius}" Background="{ThemeResource CardBackgroundFillColorDefaultBrush}" Padding="16">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>

                        <Grid Grid.Column="0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>

                            <FontIcon Grid.Column="0"
             
              Glyph="&#xE774;" Margin="0,0,8,0" />

                            <StackPanel Grid.Column="1">
                                <TextBlock Text="Selecciona la IP del servidor:"
                   Style="{ThemeResource BaseTextBlockStyle}"
                   TextWrapping="Wrap" />
                                <TextBlock Text="Usualmente se asigna de forma automática"
                   Style="{ThemeResource CaptionTextBlockStyle}"
                   TextWrapping="Wrap" />
                            </StackPanel>
                        </Grid>

                        <StackPanel Grid.Column="1" Orientation="Horizontal" Spacing="8" VerticalAlignment="Center">
                            <TextBox x:Name="ServerIpText" PlaceholderText="La IP será la de tu conexión" MinWidth="200" TextWrapping="Wrap" />
                            <CheckBox x:Name="AutoIpCheckBox" Content="IP automática" IsChecked="True" />
                        </StackPanel>
                    </Grid>
                </Border>

                <!-- 🔌 Puerto del servidor -->
                <Border CornerRadius="{ThemeResource ControlCornerRadius}" Background="{ThemeResource CardBackgroundFillColorDefaultBrush}" Padding="16">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>

                        <Grid Grid.Column="0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>

                            <FontIcon Grid.Column="0"
             
              Glyph="&#xE8D4;" Margin="0,0,8,0" />

                            <StackPanel Grid.Column="1">
                                <TextBlock Text="Selecciona el puerto para el servidor:"
                   Style="{ThemeResource BaseTextBlockStyle}"
                   TextWrapping="Wrap" />
                                <TextBlock Text="Puede extraerse del archivo .properties"
                   Style="{ThemeResource CaptionTextBlockStyle}"
                   TextWrapping="Wrap" />
                            </StackPanel>
                        </Grid>

                        <StackPanel Grid.Column="1" Orientation="Horizontal" Spacing="8" VerticalAlignment="Center">
                            <TextBox x:Name="ServerPortText" PlaceholderText="El puerto será mostrado aquí" MinWidth="200" TextWrapping="Wrap" />
                            <CheckBox x:Name="AutoPortCheckBox" Content="Puerto automático" IsChecked="True" />
                        </StackPanel>
                    </Grid>
                </Border>
                
                <!-- Botón de guardar -->
                <Border CornerRadius="{ThemeResource ControlCornerRadius}" Background="{ThemeResource CardBackgroundFillColorDefaultBrush}" Padding="16">
                    <Button x:Name="SaveSettingsButton" 
                            Style="{ThemeResource AccentButtonStyle}" 
                            HorizontalAlignment="Center" 
                            Padding="24,12">
                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <FontIcon Glyph="&#xE74E;" FontSize="16"/>
                            <TextBlock Text="Guardar Configuración" />
                        </StackPanel>
                    </Button>
                </Border>
            </StackPanel>
        </Grid>
    </ScrollViewer>
</Page>
