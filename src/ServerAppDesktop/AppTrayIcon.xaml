<?xml version="1.0" encoding="utf-8" ?>
<tb:TaskbarIcon
	x:Class="ServerAppDesktop.AppTrayIcon"
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
	xmlns:local="using:ServerAppDesktop"
	xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
	xmlns:tb="using:H.NotifyIcon"
	xmlns:toolkitExtensions="using:CommunityToolkit.WinUI"
	xmlns:vm="using:ServerAppDesktop.ViewModels"
	ContextMenuMode="SecondWindow"
	IconSource="/Assets/AppIcon.ico"
	LeftClickCommand="{x:Bind ViewModel.ShowWindowCommand}"
	NoLeftClickDelay="True"
	ToolTipText="Server App Desktop (Preview)"
	Visibility="Visible"
	mc:Ignorable="d">
	<tb:TaskbarIcon.ContextFlyout>
		<MenuFlyout>
			<MenuFlyoutItem x:Uid="MenuFlyoutItem_StartServer" Icon="{toolkitExtensions:SymbolIcon Symbol=Play}" />
			<MenuFlyoutItem x:Uid="MenuFlyoutItem_StopServer" Icon="{toolkitExtensions:SymbolIcon Symbol=Stop}" />
			<MenuFlyoutItem x:Uid="MenuFlyoutItem_RestartServer" Icon="{toolkitExtensions:SymbolIcon Symbol=Refresh}" />
			<MenuFlyoutSeparator />
			<MenuFlyoutItem
				x:Uid="MenuFlyoutItem_SendFeedback"
				Command="{x:Bind ViewModel.SendFeedbackCommand, Mode=OneWay}"
				Icon="{toolkitExtensions:FontIcon Glyph=&#xED15;}" />
			<MenuFlyoutItem
				x:Uid="MenuFlyoutItem_RestartApp"
				Command="{x:Bind ViewModel.RestartAppCommand, Mode=OneWay}"
				Icon="{toolkitExtensions:SymbolIcon Symbol=Refresh}" />
			<MenuFlyoutItem
				x:Uid="MenuFlyoutItem_ShowWindow"
				Command="{x:Bind ViewModel.ShowWindowCommand, Mode=OneWay}"
				Icon="{toolkitExtensions:SymbolIcon Symbol=NewWindow}" />
			<MenuFlyoutSeparator />
			<MenuFlyoutItem IsEnabled="False" Text="Server App Desktop 1.0.0.3 (Preview)" />
			<MenuFlyoutSeparator />
			<MenuFlyoutItem
				x:Uid="MenuFlyoutItem_ExitApp"
				Command="{x:Bind ViewModel.ExitAppCommand, Mode=OneWay}"
				Icon="{toolkitExtensions:FontIcon Glyph=&#xE7E8;}" />
		</MenuFlyout>
	</tb:TaskbarIcon.ContextFlyout>
</tb:TaskbarIcon>
